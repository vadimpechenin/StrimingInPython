# striming in Python

python v 3.11
Libraries:
1. pip install kafka-python==2.2.15
2. pip install pyspark==4.0.0
3. pip install confluent-kafka==2.11.0


## 1 example_kafka
Код для создания продюсеров и консьюмеров с Apache Kafka в Python. Так же примеры с передачей данных в json


Советы по обработке данных
1. Используйте ключи сообщений: Это поможет гарантировать, что сообщения с одинаковыми ключами попадут в один и тот же раздел. Это важно для обеспечения порядка сообщений и равномерного распределения нагрузки.
2. Обрабатывайте ошибки: Всегда проверяйте наличие ошибок при отправке и получении сообщений. Это поможет избежать потери данных и обеспечить надёжность системы.
3. Используйте асинхронные методы: Для повышения производительности используйте асинхронные методы отправки сообщений. Это позволит вашему приложению продолжать работу, пока сообщения отправляются в фоновом режиме.
4. Мониторинг и логирование: Включите мониторинг и логирование для отслеживания состояния ваших продюсеров и консумеров. Это поможет выявлять и устранять проблемы на ранних стадиях.
5. Оптимизация конфигурации: Настройте параметры конфигурации продюсеров и консумеров в соответствии с вашими требованиями. Это может включать настройку таймаутов, размеров буферов и других параметров.
6. Используйте схемы данных: Для обеспечения совместимости и упрощения обработки данных используйте схемы, такие как Avro или Protobuf. Это поможет гарантировать, что данные будут правильно интерпретированы на всех этапах обработки.
7. Планирование и масштабирование: При разработке системы учитывайте возможные нагрузки и планируйте масштабирование. Это поможет избежать проблем с производительностью и обеспечит надёжность системы в долгосрочной перспективе.

## 2 Example 1

Пример кода для стриминговой системы подсчета типов автомобилей, проходящих через мост, реализованной на Python с использованием:
Apache Kafka (для приема потока данных),

Apache Spark Structured Streaming (для обработки данных в реальном времени),

PySpark с параллелизацией и группировкой по типу автомобиля.